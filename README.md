# 🎯 티켓 사이트 XPath 탐색기 v3.1

실시간으로 웹 요소를 선택하고 XPath를 추출하는 도구입니다. 티켓 예매 사이트(인터파크, 멜론티켓, YES24, 티켓링크)의 자동화를 위한 XPath 조사에 최적화되어 있습니다.

## ✨ 주요 기능

| 기능 | 설명 |
|------|------|
| **실시간 요소 선택** | 브라우저에서 마우스로 요소 선택 후 XPath 자동 추출 |
| **중첩 iframe 지원** | 인터파크 좌석 선택창 등 중첩 iframe 내부 요소 탐색 |
| **다중 사이트 프리셋** | 인터파크, 멜론티켓, YES24, 티켓링크 기본 XPath 제공 |
| **쿠키 관리** | 로그인 세션 저장/복원 기능 |
| **XPath 히스토리** | 최근 선택한 요소 기록 저장 |
| **다양한 내보내기** | JSON, Python Dict, Python Class, YAML |

## 📦 설치

### 필수 패키지
```bash
pip install PyQt6 selenium webdriver-manager
```

### 선택 패키지 (권장)
```bash
pip install undetected-chromedriver
```
> `undetected-chromedriver`는 봇 탐지를 우회하여 티켓 사이트 접근 시 차단을 방지합니다.

## 🚀 실행

```bash
python "★ (작동가능)251211 xpath 조사기(모든 티켓 사이트).py"
```

## 📖 사용법

### 기본 워크플로우
1. **브라우저 열기** 버튼 클릭
2. 프리셋에서 사이트 선택 또는 URL 직접 입력
3. **🎯 요소 선택 시작** 버튼 클릭
4. 브라우저에서 원하는 요소 클릭
5. 자동 추출된 XPath 확인 및 저장

### 요소 선택 모드

| 동작 | 기능 |
|------|------|
| 클릭 | 요소 선택 고정 |
| 더블클릭 | XPath 복사 + 즉시 확정 |
| Ctrl+C | 현재 요소 XPath 복사 |
| Enter | 선택 확정 (고정 상태) |
| ESC | 선택 취소/해제 |

### 오버레이 모드
체크박스를 활성화하면 요소와 실제 상호작용 없이 선택만 가능합니다. 실수로 페이지 요소를 클릭하는 것을 방지합니다.

## ⌨️ 단축키

| 단축키 | 기능 |
|--------|------|
| `F5` | 전체 XPath 검증 |
| `Ctrl+N` | 새 설정 |
| `Ctrl+O` | 설정 열기 |
| `Ctrl+S` | 설정 저장 |

## 📂 프로젝트 구조

```
xpath/
├── ★ (작동가능)251211 xpath 조사기(모든 티켓 사이트).py  # 메인 프로그램
└── README.md
```

### 데이터 저장 위치
```
~/.xpath_explorer/
├── debug.log           # 디버그 로그
├── xpath_history.json  # XPath 히스토리
└── cookies/            # 저장된 쿠키 파일
```

## 🔧 기술 스택

- **UI**: PyQt6
- **브라우저 자동화**: Selenium, undetected-chromedriver
- **드라이버 관리**: webdriver-manager

## 📋 지원 사이트 프리셋

| 사이트 | 포함 XPath |
|--------|-----------|
| 인터파크 | 로그인, 예매, 좌석 선택, 캡차 |
| 멜론티켓 | 로그인, 예매, 시간 선택 |
| YES24 | 로그인, 예매, 캘린더 |
| 티켓링크 | 로그인, 예매, 좌석맵 |

## ⚠️ 주의사항

- 티켓 사이트의 구조가 변경되면 프리셋 XPath가 작동하지 않을 수 있습니다
- 자동화 도구 사용은 사이트 이용약관을 확인하세요
- 상업적 목적의 매크로 사용은 법적 문제가 될 수 있습니다

## 📝 변경 이력

### v3.1 (2025-12)
- ✅ Toast 알림 시스템 추가
- ✅ 쿠키 관리 기능 (저장/불러오기/삭제)
- ✅ XPath 히스토리 기능
- ✅ 폰트 크기 조절
- ✅ 키보드 단축키 문서화
- ✅ 스레드 안전성 개선

### v3.0
- 초기 버전
- 실시간 요소 선택
- 중첩 iframe 지원
- 다중 윈도우 지원

---

